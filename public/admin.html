<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>پنل مدیریت | کافه ویوا</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
  <!-- Font (Inter) -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"/>

  <style>
    body { font-family: 'Inter', sans-serif }
    ::placeholder { color: #a0aec0 }
    input:focus, textarea:focus {
      outline: none;
      border-color: #f59e0b;
      box-shadow: 0 0 0 1px #f59e0b;
    }
    #notification {
      @apply fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded shadow-lg opacity-0 transition-opacity;
    }
    #notification.show {
      @apply opacity-100;
    }
  </style>
</head>
<body class="bg-gray-100 text-gray-800 min-h-screen">

  <!-- Notification -->
  <div id="notification"></div>

  <!-- LOGIN FORM -->
  <div id="login-container" class="max-w-sm mx-auto mt-24 bg-white rounded-2xl p-8 shadow-lg">
    <h2 class="text-2xl font-bold mb-6 text-center">ورود مدیر</h2>
    <input id="pw" type="password" placeholder="رمز عبور"
           class="w-full mb-4 p-3 border rounded-lg"/>
    <button id="login-btn"
            class="w-full bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-2.5 rounded-lg">
      ورود
    </button>
    <p id="login-error" class="mt-3 text-red-500 text-sm hidden text-center"></p>
  </div>

  <!-- DASHBOARD -->
  <div id="dashboard" class="hidden max-w-6xl mx-auto mt-16 p-6 bg-white rounded-2xl shadow-xl">
    <div class="flex items-center justify-between mb-6">
      <h1 class="text-3xl font-bold">داشبورد مدیریت</h1>
      <button id="add-item"
              class="flex items-center gap-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg">
        <i data-lucide="plus-circle" class="w-5 h-5"></i>
        افزودن آیتم
      </button>
    </div>
    <div class="overflow-x-auto">
      <table class="w-full text-right border-separate border-spacing-y-2">
        <thead class="bg-gray-200 text-sm text-gray-700">
          <tr>
            <th class="p-3">ID</th>
            <th class="p-3">عنوان</th>
            <th class="p-3">دسته‌بندی</th>
            <th class="p-3">قیمت (تومان)</th>
            <th class="p-3">عملیات</th>
          </tr>
        </thead>
        <tbody id="menu-rows" class="text-sm"></tbody>
      </table>
    </div>
  </div>

  <!-- MODAL -->
  <div id="modal"
       class="fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 hidden">
    <form id="item-form" class="bg-white rounded-xl shadow-2xl p-6 w-96 space-y-4">
      <h2 id="modal-title" class="text-xl font-semibold text-center"></h2>
      <input name="id" type="hidden"/>
      <input name="title" placeholder="عنوان" class="w-full p-3 border rounded-lg"/>
      <input name="category" placeholder="دسته‌بندی" class="w-full p-3 border rounded-lg"/>
      <input name="price" type="number" placeholder="قیمت (تومان)" class="w-full p-3 border rounded-lg"/>
      <input name="img" placeholder="آدرس تصویر (URL)" class="w-full p-3 border rounded-lg"/>
      <textarea name="description" placeholder="توضیحات" class="w-full p-3 border rounded-lg h-24"></textarea>
      <div class="flex justify-between pt-4">
        <button type="button" id="cancel"
                class="px-4 py-2 text-gray-700 border rounded-lg hover:bg-gray-100">
          انصراف
        </button>
        <button type="submit"
                class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">
          ذخیره
        </button>
      </div>
    </form>
  </div>

  <!-- ADMIN LOGIC -->
  <script src="/admin.js"></script>
  <script>lucide.createIcons();</script>
</body>
</html>
